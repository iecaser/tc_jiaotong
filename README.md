# 数据华夏-交通比赛demo



## 说明

预测问题初探, 由于找工作紧迫, 此比赛仅记初始状态. 目前0.7成绩, 实际上, 本项目中代码由于需要跑时间较久, 故提交版本并非算法完整结果. 个人预测, 按照次代码结果提交应该能有至少0.5. 稍作修正进前复赛应该是可以的.

另外个人理论仍然欠缺, 需要继续充电, 待充电完毕再来征战天池!

## 方法简介

1. 时序预测问题, 按照经典的数字信号处理中的自适应滤波的理论讲, 是前向预测问题, 详见Haykin书. 基本的几种方案是, 先选定模型, 如AR/MA/ARMA, 这一步通常是根据信号频谱形式来选择, 也就是直观上观察频谱更像是哪种模型对应的信号. 拿AR来说, 为什么能预测出未来? 是因为过去和未来是有相关性的, 相关性可以通过自相关函数来表达. 白噪声的自相关函数R是冲激, 所以是不可预测的. 而一般的信号通常在不同时刻有一定的相关性, 换言之, 就是适当短的时间内, 信号是保持一定趋势的. 
训练过程中, 输入数据为过去的序列$x_0$到$x_n$, 输出对照为$x_{n+1}$, 学得的权重w实际上就是学得的自相关性 , 故可以用来预测.
当然输出不局限于单值, 也可以为多值flatten成向量的size.

3. 有了以上分析, 基本思路就是
- 数据补充
- 每60条历史预测1条(或多条)
- strid=1的平移第二步的处理
- pridict时候采用滑动方式, 将未来值都获得(误差会积累)

2. 需要说明的是
- 未考虑拓扑结构信息的额外利用(不同道路的相关性完全靠网络提取)
- 未考虑道路长宽(约束的先验怎么加入网络呢...)
- 数据补齐采用的是相邻均值
- input shape是132条道路拼接在一起的矩阵数据, 如果不只有道路容量, 实际上可以加入更多特征, 位置对准即可
- LSTM需要看看理论知识.. 只会掉包, 不懂理论不行啊~
- 改进方式主要考虑到工作日对齐

